<!DOCTYPE html>
<html>
    <head>
        <title>LAZER TAG</title>
        <meta charset="utf-8" />
        <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.4/dist/aframe-extras.min.js"></script>
        <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>

        <script src="javascript/variables.js"></script>

        <link rel="stylesheet" href="css/user-gesture.css">

        <script>
            AFRAME.registerComponent('start-experience',{
                init:function(){
                    console.log('sence loaded'); 
                    document.querySelector('#user-gesture-button').style.display='block';
                    //teleport('noTelePads');
                }
            });
            //will be called when "enter experience" is clicked
            const startExperience = function(){
                document.querySelector('#user-gesture-overlay').style.display='none';
          
                //start background music
                let backgroundMusic = document.querySelector('#background-music');
                
                backgroundMusic.components.sound.playSound();
            };

        </script>

    </head>
    <body>
        <div id="user-gesture-overlay">
            <div class="center">
                <button id="user-gesture-button" onclick="startExperience()">Play LAZOR TAG!!!</button>
            </div>
        </div>
        <a-scene a-scene player-pos start-experience background="color:rgb(0, 0, 0);">
            <a-assets timeout="20000">
                <!--Loading all A-frame Assets-->
                
                <!--Audio assets-->
                <!--https://freetouse.com/music/lukrembo/marshmallow-->
                <audio id="backgroundMusic" src="audio/backgroundMusic.mp3" preload="auto" crossorigin="anonymous" ></audio>

                <a-asset-item id="arenaModel" src="assets/LaserTagArena.glb" preload="auto" crossorigin="anonymous"></a-asset-item>
                <a-asset-item id="arenaModelNav" src="assets/LaserTagNav.glb" preload="auto" crossorigin="anonymous"></a-asset-item>



            </a-assets>
           <!--CameraRig setup uses nav meshes-->
           <a-entity id="background-music" sound="src:#backgroundMusic; autoplay:false; loop:true; rolloffFactor:0; volume:0.1"></a-entity>
       <!-- End Camera Rig -->
            <a-entity id="player1" 
                    movement-controls="speed: 0.4; constrainToNavMesh: true;" 
                    position="0 0 0">
                <a-entity   id="player1camera" 
                            camera="active: false" 
                            position="0 1.65 0" 
                            look-controls>
                    <a-entity id="player1cursor" cursor raycaster="far:40; objects:.interactive" 
                        position="0 0 -0.1"
                        geometry="primitive: ring; radiusInner: 0.0004; radiusOuter: 0.001"
                        material="color: white; shader: standard; emissive: rgb(255, 255, 255);">
                    </a-entity>
                </a-entity> 
            </a-entity>
            <a-entity   id="HitBoxPlayer1" 
                        position="0 2.5 0">
                <a-entity   id="headBox1"
                            position="0 -0.2 0"
                            class="button interactive"
                            geometry="primitive:box; width:0.5; depth:0.5; height:0.6;"
                            material="color: rgb(0, 187, 187); shader: standard; emissive: rgb(0, 187, 187);"
                            visible="true">
                </a-entity>
                <a-entity   id="bodyBox1"
                            class="button interactive"
                            position="0 -1 0" 
                            geometry="primitive:box; width:0.5; depth:0.5; height:0.8;"
                            material="color: rgb(0, 187, 187);shader: standard; emissive: rgb(0, 187, 187);"
                            visible="true">
                </a-entity>
                <a-entity   id="laserFireTeal"
                            position="0 -0.1 -20" 
                            rotation="90 0 0"
                            geometry="primitive: cylinder; height: 40; radius: 0.02;"
                            material="color: rgb(0, 187, 187);shader: standard; emissive: rgb(0, 187, 187);"
                            visible="false">
                </a-entity>
                <a-entity   id="tealHitConfirm"
                            position="0 -0.3 0" 
                            geometry="primitive: cylinder; openEnded: false; height: 2.5;" 
                            material="color: red; side: double; emissive: rgb(255, 0, 0); opacity: 0.5;"
                            visible="false">
                </a-entity>
            </a-entity>

            <a-entity id="player2" 
                    movement-controls="speed: 0.4; constrainToNavMesh: true;" 
                    position="0 0 0">
                <a-entity   id="player2camera" 
                            camera="active: false"
                            position="0 1.65 0" 
                            look-controls>
                    <a-entity   id="player2cursor" 
                                cursor raycaster="far:40; objects:.interactive"  
                                position="0 0 -0.1"
                                geometry="primitive: ring; radiusInner: 0.0004; radiusOuter: 0.001"
                                material="color: white; shader: standard; emissive: rgb(255, 255, 255);">
                    </a-entity>
                </a-entity> 
            </a-entity>
            <a-entity   id="HitBoxPlayer2" 
                        position="0 2.5 0">
                <a-entity   id="headBox2"
                            class="button interactive"   
                            position="0 -0.2 0"          
                            geometry="primitive:box; width:0.5; depth:0.5; height:0.6;"
                            material="color: rgb(227, 11, 92); shader: standard; emissive: rgb(227, 11, 92);">

                </a-entity>
                <a-entity   id="bodyBox2"
                            class="button interactive"
                            position="0 -1 0" 
                            geometry="primitive:box; width:0.5; depth:0.5; height:0.8;"
                            material="color: rgb(255, 11, 92); shader: standard; emissive: rgb(227, 11, 92);">
                </a-entity>
                <a-entity   id="laserFirePink"
                            position="0 -0.1 -20" 
                            rotation="90 0 0"
                            geometry="primitive: cylinder; height: 40; radius: 0.02;"
                            material="color: rgb(0, 187, 187);shader: standard; emissive: rgb(227, 11, 92);"
                            visible="false">
                </a-entity>
                <a-entity   id="pinkHitConfirm"
                            position="0 -0.3 0" 
                            geometry="primitive: cylinder; openEnded: true; height: 2.5;" 
                            material="color: red; side: double; emissive: rgb(255, 0, 0); opacity: 0.5;"
                            visible="false">
                </a-entity>
            </a-entity>

            <a-entity   id="Shield" 
                        class="button interactive"
                        position="0 9 17" 
                        rotation="90 90 0"
                        geometry="primitive:box; width:2; depth:20; height:40;"
                        visible="false" >
            </a-entity>
            <a-entity   id="pinkButton" 
                        position="-4 0.6 4">
                <a-entity   class="button interactive" 
                            position="0 0.6 0" 
                            geometry="primitive:cylinder; radius:0.3; height:0.2;" 
                            material="color:rgb(255, 100, 100)"
                            animation__click="property:position.y; from:0.55; to:0.6; startEvents:click; dur:300">
                </a-entity>
                <a-entity   position="0 -0.2 0" 
                            geometry="primitive:box; width:1; depth:1; height:1.5;" 
                            material="color:rgb(255, 255, 255)">
                </a-entity>
                <a-entity   position="0 1 0" 
                            rotation="0 180 0"
                            text="value: Player Two (Pink); width: 5; align: center;"> 
                </a-entity>
            </a-entity>
            <a-entity   id="tealButton" 
                        position="4 0.6 4">
                <a-entity   class="button interactive" 
                            position="0 0.6 0" 
                            geometry="primitive:cylinder; radius:0.3; height:0.2;" 
                            material="color:rgb(100, 155, 200)"
                            animation__click="property:position.y; from:0.55; to:0.6; startEvents:click; dur:300">
                </a-entity>
                <a-entity   position="0 -0.2 0" 
                            geometry="primitive:box; width:1; depth:1; height:1.5;" 
                            material="color:rgb(255, 255, 255)">
                </a-entity>
                <a-entity   position="0 1 0" 
                            rotation="0 180 0"
                            text="value: Player One (Teal); width: 5; align: center;"> 
                </a-entity>
            </a-entity>
            <a-entity   id="coopButton" 
            position="0 0.6 -4">
                <a-entity   class="button interactive" 
                            position="0 0.6 0" 
                            geometry="primitive:cylinder; radius:0.3; height:0.2;" 
                            material="color:rgb(255, 0, 255)"
                            animation__click="property:position.y; from:0.55; to:0.6; startEvents:click; dur:300">
                </a-entity>
                <a-entity   position="0 -0.2 0" 
                            geometry="primitive:box; width:1; depth:1; height:1.5;" 
                            material="color:rgb(255, 255, 255)">
                </a-entity>
            </a-entity>
            <a-entity   id="startCoopGame" 
                        position="0 0.6 -40"
                        visible="true">
                <a-entity   class="button interactive" 
                            position="0 0.6 0" 
                            geometry="primitive:cylinder; radius:0.3; height:0.2;" 
                            material="color:rgb(255, 0, 255)"
                            animation__click="property:position.y; from:0.55; to:0.6; startEvents:click; dur:300">
                </a-entity>
                <a-entity   position="0 -0.2 0" 
                            geometry="primitive:box; width:1; depth:1; height:1.5;" 
                            material="color:rgb(255, 255, 255)">
                </a-entity>
            </a-entity>
            <a-entity   id="textTimer"
                        position="0 2 -40" 
                        text="value: Start!; width: 10; align: center;"> 
            </a-entity>
           
            <a-entity   id="Environment;"
                        environment="preset:starry; ground:flat">

                <a-gltf-model   id="arena" 
                                gltf-model="#arenaModel" 
                                class="button interactive" 
                                position="0 0.1 0" 
                                rotation="0 90 0">
                </a-gltf-model>
                <a-gltf-model   id="arenaNavMesh" 
                                nav-mesh 
                                visible="false" 
                                gltf-model="#arenaModelNav" 
                                position="0 0.1 0" 
                                rotation="0 90 0">
                </a-gltf-model>
                <a-entity   id="compText"
                            position="0 3.5 10" 
                            rotation="0 180 0"
                            text="value: Competetive; width: 30; align: center;"> 
                    <a-entity   position="0 -1.5 0" 
                                text="value: Fight your friend is a 1V1 laser tag battle. Each player has three lives and the player who destorys all their opponents lives first wins. Good Luck!; width: 10; align: center;"> 
                    </a-entity>
                </a-entity>
                <a-entity   id="coopText"
                            position="0 3.5 -10" 
                            rotation="0 0 0"
                            text="value: Cooperative; width: 30; align: center;"> 
                    <a-entity   position="0 -1.7 0" 
                                text="value: Work with your friends to destory 20 targets in under 10 seconds. Each player has their own set of targets they can shoot to contribute to the team's total. Good Luck!; width: 10; align: center;"> 
                    </a-entity>
                </a-entity>
            </a-entity>

            <a-entity   id="targets"
                        position="0 10 -75"
                        rotation="90 0 0">
                <a-entity   id="target1"
                            class="button interactive" 
                            onclick="tealTargetHit();"
                            position="2 1000 2" 
                            geometry="primitive:cylinder; radius:1; height:0.5;" 
                            material="color:rgb(150, 150, 255); emissive: rgb(0, 187, 187);"
                            visible="false">
                </a-entity>
                <a-entity   id="target2"
                            class="button interactive" 
                            onclick="pinkTargetHit();"
                            position="-2 1000 -2" 
                            geometry="primitive:cylinder; radius:1; height:0.5;" 
                            material="color:rgb(255, 150, 150); emissive: rgb(227, 11, 92);"
                            visible="false">
                </a-entity>
            </a-entity>

        </a-scene>

        <script src="/socket.io/socket.io.js"></script>
       
        <script>
            const socket = io();

            socket.on('connect', (userData) => {
                console.log('I exist!');
                console.log(socket.id);
                socket.on('assign_playernum', (data) => {
                    if(playerNum == -1)
                    {
                        playerNum = data.id;
                        console.log("my number is " + playerNum);
                    }
                });
                socket.on('swap_cam', (data) => {
                    console.log('Swapping Cams');
                    if(playerNum === 1){
                        console.log('Swapping Cams');
                        document.querySelector('#player2camera').setAttribute('camera', 'active', false);
                        document.querySelector('#player1camera').setAttribute('camera', 'active', true);
                        document.querySelector('#player2cursor').setAttribute('visible','false');
                        console.log('cam1enabled');
                    }
                    else if(playerNum === 2){
                        console.log('Swapping Cams');
                        document.querySelector('#player1camera').setAttribute('camera', 'active', false);
                        document.querySelector('#player2camera').setAttribute('camera', 'active', true);
                        document.querySelector('#player1cursor').setAttribute('visible','false');
                        console.log('cam2enabled');
                    };
                });

                document.querySelector('#headBox1').addEventListener('click', function(){
                    if(friendly === false){
                        console.log("player 1 hit");
                        socket.emit('tealHit');
                    }
                });

                document.querySelector('#bodyBox1').addEventListener('click', function(){
                    if(friendly === false){
                        console.log("player 1 hit");
                        socket.emit('tealHit');
                    }
                });

                document.querySelector('#headBox2').addEventListener('click', function(){
                    if(friendly === false){
                        console.log("player 2 hit");   
                        socket.emit('pinkHit');
                        loserSound.play(); 
                    }
                });

                document.querySelector('#bodyBox2').addEventListener('click', function(){
                    if(friendly === false){
                        console.log("player 2 hit");   
                        socket.emit('pinkHit');
                        loserSound.play(); 
                    }
                });
                
                document.addEventListener('click', function(){
                        console.log("shooting");
                        socket.emit('shooting');
                });
               

                socket.on('player1_shooting', (data) => {
                    if(data.id === "playerOne"){
                        console.log("teal shooting");
                        document.querySelector('#laserFireTeal').setAttribute('visible', 'true');
                        laser1Sound.play();
                        setTimeout(() => document.querySelector('#laserFireTeal').setAttribute('visible', 'false'), 40);
                    };
                });
                socket.on('player2_shooting', (data) => {
                    if(data.id === "playerTwo"){
                        console.log("pink shooting");
                        document.querySelector('#laserFirePink').setAttribute('visible', 'true');
                        laser2Sound.play();
                        setTimeout(() => document.querySelector('#laserFirePink').setAttribute('visible', 'false'), 40);
                    };
                });
            });

            AFRAME.registerComponent('player-pos', {
                tick: function () {
                    let xPosPlayer1 = document.querySelector("#player1").getAttribute('position').x ;
                    let yPosPlayer1 = document.querySelector("#player1").getAttribute('position').y + 1.6;
                    let zPosPlayer1 = document.querySelector("#player1").getAttribute('position').z;

                    let xRotPlayer1 = document.querySelector("#player1camera").getAttribute('rotation').x;
                    let yRotPlayer1 = document.querySelector("#player1camera").getAttribute('rotation').y;
                    let zRotPlayer1 = document.querySelector("#player1camera").getAttribute('rotation').z;

                    socket.emit('player1Pos', {xPos:xPosPlayer1, yPos:yPosPlayer1, zPos:zPosPlayer1, xRot:xRotPlayer1, yRot:yRotPlayer1, zRot:zRotPlayer1});

                    let xPosPlayer2 = document.querySelector("#player2").getAttribute('position').x;
                    let yPosPlayer2 = document.querySelector("#player2").getAttribute('position').y + 1.6;
                    let zPosPlayer2 = document.querySelector("#player2").getAttribute('position').z;

                    let xRotPlayer2 = document.querySelector("#player2camera").getAttribute('rotation').x;
                    let yRotPlayer2 = document.querySelector("#player2camera").getAttribute('rotation').y;
                    let zRotPlayer2 = document.querySelector("#player2camera").getAttribute('rotation').z;

                    socket.emit('player2Pos', {xPos:xPosPlayer2, yPos:yPosPlayer2, zPos:zPosPlayer2, xRot:xRotPlayer2, yRot:yRotPlayer2, zRot:zRotPlayer2});
                }
            });

            socket.on('player1_update', (data) => {
                let player1Position = data.xPos + ' ' + data.yPos + ' ' + data.zPos;
                let player1Rotation = data.xRot + ' ' + data.yRot + ' ' + data.zRot;

                //document.body.style.backgroundColor = colorStr;
                document.querySelector('#HitBoxPlayer1').setAttribute('position', player1Position);
                document.querySelector('#HitBoxPlayer1').setAttribute('rotation', player1Rotation);
            });

            socket.on('player2_update', (data) => {

                let player2Position = data.xPos + ' ' + data.yPos + ' ' + data.zPos;
                let player2Rotation = data.xRot + ' ' + data.yRot + ' ' + data.zRot;

                document.querySelector('#HitBoxPlayer2').setAttribute('position', player2Position);
                document.querySelector('#HitBoxPlayer2').setAttribute('rotation', player2Rotation);
            });

            socket.on('teal_wins', (data) => {
                if(tealHits === 2){
                    document.querySelector('#pinkHitConfirm').setAttribute('visible', 'true');
                    alert("Teal Wins! Play Again?");
                    window.location.reload()
                }
                else{
                    document.querySelector('#pinkHitConfirm').setAttribute('visible', 'true');
                    victorySound.play();
                    setTimeout(() => document.querySelector('#pinkHitConfirm').setAttribute('visible', 'false'), 1000);
                    document.querySelector('#player1').setAttribute('position', '19 2.810 34');
                    document.querySelector('#player1camera').setAttribute('position', '0 1.65 0');
                    document.querySelector('#HitBoxPlayer1').setAttribute('position', '0 2.5 0');
                    document.querySelector('#player1').components['movement-controls'].updateNavLocation();

                    document.querySelector('#player2').setAttribute('position', '-21.3 2.810 52');
                    document.querySelector('#player2camera').setAttribute('position', '0 1.65 0');
                    document.querySelector('#HitBoxPlayer2').setAttribute('position', '0 2.5 0');
                    document.querySelector('#player2').components['movement-controls'].updateNavLocation();
                    tealHits++;
                }
            });
            socket.on('pink_wins', (data) => {
                if(pinkHits === 2){
                    document.querySelector('#tealHitConfirm').setAttribute('visible', 'true');
                    alert("Pink Wins! Play Again?");
                    window.location.reload()
                }
                else{
                    document.querySelector('#tealHitConfirm').setAttribute('visible', 'true');
                    victorySound.play();
                    setTimeout(() => document.querySelector('#tealHitConfirm').setAttribute('visible', 'false'), 1000);
                    document.querySelector('#player1').setAttribute('position', '19 2.810 34');
                    document.querySelector('#player1camera').setAttribute('position', '0 1.65 0');
                    document.querySelector('#HitBoxPlayer1').setAttribute('position', '0 2.5 0');
                    document.querySelector('#player1').components['movement-controls'].updateNavLocation();

                    document.querySelector('#player2').setAttribute('position', '-21.3 2.810 52');
                    document.querySelector('#player2camera').setAttribute('position', '0 1.65 0');
                    document.querySelector('#HitBoxPlayer2').setAttribute('position', '0 2.5 0');
                    document.querySelector('#player2').components['movement-controls'].updateNavLocation();

                    pinkHits++;
                }
            });

        </script>
        <script>

            function tealTargetHit(){
                score++;
                if(score === 1 || score === 11){
                    document.querySelector('#target1').setAttribute('position', '-3 -2 -4');
                    socket.emit('tealTallyScore', {tealScore: score});
                }
                if(score === 2 || score === 12){
                    document.querySelector('#target1').setAttribute('position', '3 2 4');
                    socket.emit('tealTallyScore', {tealScore: score});
                }
                if(score === 3 || score === 13){
                    document.querySelector('#target1').setAttribute('position', '-15 2 -2');
                    socket.emit('tealTallyScore', {tealScore: score});
                }
                if(score === 4 || score === 14){
                    document.querySelector('#target1').setAttribute('position', '-5 6 1');
                    socket.emit('tealTallyScore', {tealScore: score});
                }
                if(score === 5 || score === 15){
                    document.querySelector('#target1').setAttribute('position', '10 0 -2');
                    socket.emit('tealTallyScore', {tealScore: score});
                }
                if(score === 6 || score === 16){
                    document.querySelector('#target1').setAttribute('position', '10 5 -3');
                    socket.emit('tealTallyScore', {tealScore: score});
                }
                if(score === 7 || score === 17){
                    document.querySelector('#target1').setAttribute('position', '6 5 7');
                    socket.emit('tealTallyScore', {tealScore: score});
                }
                if(score === 8 || score === 18){
                    document.querySelector('#target1').setAttribute('position', '12 5 2');
                    socket.emit('tealTallyScore', {tealScore: score});
                }
                if(score === 9 || score === 19){
                    document.querySelector('#target1').setAttribute('position', '20 5 0');
                    socket.emit('tealTallyScore', {tealScore: score});
                }
                if(score === 10 || score === 20){
                    document.querySelector('#target1').setAttribute('position', '2 0 2');
                    socket.emit('tealTallyScore', {tealScore: score});
                }
                if(score === 21){
                    console.log("complete");
                    score = 0;
                }
            }
            function pinkTargetHit(){
                score++;
                if(score === 1 || score === 11){
                    document.querySelector('#target2').setAttribute('position', ' 3  2  4');
                    socket.emit('pinkTallyScore', {pinkScore: score});
                }
                if(score === 2 || score === 12){
                    document.querySelector('#target2').setAttribute('position', '-3 -2 -4');
                    socket.emit('pinkTallyScore', {pinkScore: score});
                }
                if(score === 3 || score === 13){
                    document.querySelector('#target2').setAttribute('position', '15 -2 2');
                    socket.emit('pinkTallyScore', {pinkScore: score});
                }
                if(score === 4 || score === 14){
                    document.querySelector('#target2').setAttribute('position', '5 -6 -1');
                    socket.emit('pinkTallyScore', {pinkScore: score});
                }
                if(score === 5 || score === 15){
                    document.querySelector('#target2').setAttribute('position', '-10 -0 2');
                    socket.emit('pinkTallyScore', {pinkScore: score});
                }
                if(score === 6 || score === 16){
                    document.querySelector('#target2').setAttribute('position', '-10 -5 3');
                    socket.emit('pinkTallyScore', {pinkScore: score});
                }
                if(score === 7 || score === 17){
                    document.querySelector('#target2').setAttribute('position', '-6 -5 -7');
                    socket.emit('pinkTallyScore', {pinkScore: score});
                }
                if(score === 8 || score === 18){
                    document.querySelector('#target2').setAttribute('position', '-12 -5 -2');
                    socket.emit('pinkTallyScore', {pinkScore: score});
                }
                if(score === 9 || score === 19){
                    document.querySelector('#target2').setAttribute('position', '-20 -5 -0');
                    socket.emit('pinkTallyScore', {pinkScore: score});
                }
                if(score === 10 || score === 20){
                    document.querySelector('#target2').setAttribute('position', '-2 0 -2');
                    socket.emit('pinkTallyScore', {pinkScore: score});
                }
                if(score === 21){
                    console.log("complete");
                    score = 0;
                }
                console.log(score);
            }
            socket.on('coopWin', (data) => {
                console.log("Teamwork!");
                alert("Great Teamwork! Play Again?");
                window.location.reload()
            });

            socket.on('coopFailed', (data) => {
                console.log("Nice Try");
                alert("You didn't make it! Try Again?");
                window.location.reload()
            });

            socket.on('timer' , (data) => {
                console.log(data.time);
                document.querySelector('#textTimer').setAttribute('text', 'value: ' + data.time);
            });
            
            document.querySelector('#tealButton').querySelector('.button').addEventListener('click', function(){
                document.querySelector('#player1').setAttribute('position', '19 2.810 34');
                document.querySelector('#player1camera').setAttribute('position', '0 1.65 0');
                document.querySelector('#HitBoxPlayer1').setAttribute('position', '0 2.5 0');
                document.querySelector('#player1').components['movement-controls'].updateNavLocation();
                friendly = false;
            });
            document.querySelector('#pinkButton').querySelector('.button').addEventListener('click', function(){
                document.querySelector('#player2').setAttribute('position', '-21.3 2.810 52');
                document.querySelector('#player2camera').setAttribute('position', '0 1.65 0');
                document.querySelector('#HitBoxPlayer2').setAttribute('position', '0 2.5 0');
                document.querySelector('#player2').components['movement-controls'].updateNavLocation();
                friendly = false;
            });
            document.querySelector('#coopButton').querySelector('.button').addEventListener('click', function(){
                document.querySelector('#player1').setAttribute('position', '2 0 -32');
                document.querySelector('#player1camera').setAttribute('position', '0 1.65 0');
                document.querySelector('#HitBoxPlayer1').setAttribute('position', '0 2.5 0');
                document.querySelector('#player1').components['movement-controls'].updateNavLocation();

                document.querySelector('#player2').setAttribute('position', '-2 0 -32');
                document.querySelector('#player2camera').setAttribute('position', '0 1.65 0');
                document.querySelector('#HitBoxPlayer2').setAttribute('position', '0 2.5 0');
                document.querySelector('#player2').components['movement-controls'].updateNavLocation();

            });
            document.querySelector('#startCoopGame').querySelector('.button').addEventListener('click', function(){
                if(playerNum === 1){
                    document.querySelector('#target1').setAttribute('position', '2 0 2');
                    document.querySelector('#target1').setAttribute('visible', 'true');
                    socket.emit('startTimer');

                }
                if(playerNum === 2){
                    document.querySelector('#target2').setAttribute('position', '-2 0 -2');
                    document.querySelector('#target2').setAttribute('visible', 'true');
                    socket.emit('startTimer');
                }
            });
        </script>
    </body>
</html>
